function addTask(e){if(0==e)return alert("Tâche non valide"),!1;for(var t=0,n=localStorage.length;t<n;t++)if(e==localStorage.key(t))return alert("Tâche présente"),!1;var l=new Date,o=document.createElement("li"),c=document.createElement("input"),i=document.createElement("label"),r=document.createElement("p"),d=document.createElement("a");o.setAttribute("id","elmtLi"+a),c.setAttribute("class","filled-in"),c.setAttribute("type","checkbox"),c.setAttribute("id","filled-in-box"+a),c.addEventListener("click",function(t){doTask(c,e,l)}),i.setAttribute("for","filled-in-box"+a),i.setAttribute("id",e),r.setAttribute("class","affichageHeure"),d.setAttribute("class","waves-effect waves-light btn"),d.setAttribute("Onclick","return (confirm('Etes-vous sûr de vouloir supprimer ?'));"),d.addEventListener("click",function(t){doSupp(d,o,e)}),d.innerHTML="Supprimer",i.innerHTML=e+"<br>",r.innerHTML=l.toLocaleDateString("fr-FR")+" - "+l.toLocaleTimeString("fr-FR")+"   ",o.appendChild(c),o.appendChild(i),o.appendChild(r),o.appendChild(d),ulToDo.appendChild(o),a++,stockage(e,!1,l)}function doTask(e,t,n){e.checked?(document.getElementById(t).style.textDecoration="line-through",stockage(t,!0,n)):(document.getElementById(t).style.textDecoration="none",stockage(t,!1,n));var l=new Date;temps=l.getTime()-n.getTime(),alert("Vous avez mis "+temps/1e3+" secondes.")}function doSupp(e,t,n){document.getElementById("list").removeChild(t),localStorage.removeItem(n),alert("Tâche supprimée")}function stockage(e,t,n){var l={coch:t,horaire:n};localStorage.setItem(e,JSON.stringify(l))}console.log("connect"),alert("Welcome!");var bouton=document.getElementById("bouton"),ulToDo=document.getElementById("list"),a=0,restDo=document.getElementById("test1"),tachesOk=document.getElementById("test2"),allTask=document.getElementById("test3"),x=0;bouton.addEventListener("click",function(e){e.preventDefault();addTask(document.getElementById("search").value)}),restDo.addEventListener("click",function(){document.querySelectorAll(".filled-in").forEach(function(e){e.checked?e.parentElement.style.display="none":e.parentElement.style.display=""})}),tachesOk.addEventListener("click",function(){document.querySelectorAll(".filled-in").forEach(function(e){e.checked?e.parentElement.style.display="":e.parentElement.style.display="none"})}),allTask.addEventListener("click",function(){document.querySelectorAll(".filled-in").forEach(function(e){e.parentElement.style.display=""})});