function addTask(){var e=document.getElementById("search").value;if(0==e)return alert("Tâche non valide"),!1;for(var t=0,n=stockage.length;t<n;t++)if(e==stockage.key(t))return alert("Tâche présente"),!1;var l=new Date,d=document.createElement("li"),c=document.createElement("input"),i=document.createElement("label"),o=document.createElement("p"),a=document.createElement("a");d.setAttribute("id","elmtLi"+t),c.setAttribute("class","filled-in"),c.setAttribute("type","checkbox"),c.setAttribute("id","filled-in-box"+t),i.setAttribute("for","filled-in-box"+t),i.setAttribute("id",e),o.setAttribute("class","affichageHeure"),a.setAttribute("class","waves-effect waves-light btn"),i.innerHTML=e,t++,o.innerHTML=l.toLocaleDateString("fr-FR")+" - "+l.toLocaleTimeString("fr-FR")+"   ",a.innerHTML="Supprimer",d.appendChild(c),d.appendChild(i),d.appendChild(o),d.appendChild(a),ulToDo.appendChild(d);c.addEventListener("click",function(){c.checked?document.getElementById(e).style.textDecoration="line-through":document.getElementById(e).style.textDecoration="none";var t=new Date;temps=t.getTime()-l.getTime(),alert("Vous avez mis "+temps/1e3+" secondes.")}),a.addEventListener("click",function(){document.getElementById("list").removeChild(d),stockage.removeItem(e),alert("Tâche supprimée")});var s=document.getElementById("test1"),r=document.getElementById("test2"),m=document.getElementById("test3");suppNoTask=s.addEventListener("click",function(){c.checked?document.getElementById(e).parentElement.style.display="none":document.getElementById(e).parentElement.style.display=""}),supptachesOk=r.addEventListener("click",function(){c.checked?document.getElementById(e).parentElement.style.display="":document.getElementById(e).parentElement.style.display="none"}),completeList=m.addEventListener("click",function(){document.getElementById(e).parentElement.style.display=""}),stockage.setItem(e,l),window.onload=function(){}}console.log("connect");var bouton=document.getElementById("bouton"),ulToDo=document.getElementById("list"),i=0,stockage=localStorage;bouton.addEventListener("click",addTask);var input=document.getElementById("search").value;